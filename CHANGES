
Changes with nginx 0.5.0                                         04 Dec 2006

    *) Change: the parameters in the "%name" form in the "log_format" 
       directive are not supported anymore.

    *) Change: the "proxy_upstream_max_fails", 
       "proxy_upstream_fail_timeout", "fastcgi_upstream_max_fails", 
       "fastcgi_upstream_fail_timeout", "memcached_upstream_max_fails", and 
       "memcached_upstream_fail_timeout" directives are not supported 
       anymore.

    *) Feature: the "server" directive in the "upstream" context supports 
       the "max_fails", "fail_timeout", and "down" parameters.

    *) Feature: the "ip_hash" directive inside the "upstream" block.

    *) Feature: the WAIT status in the "Auth-Status" header line of the 
       IMAP/POP3 proxy authentication server response.

    *) Bugfix: nginx could not be built on 64-bit platforms; bug appeared 
       in 0.4.14.


Changes with nginx 0.4.14                                        27 Nov 2006

    *) Feature: the "proxy_pass_error_message" directive in IMAP/POP3 proxy.

    *) Feature: now configure detects system PCRE library on FreeBSD, 
       Linux, and NetBSD.

    *) Bugfix: ngx_http_perl_module did not work with perl built with the 
       threads support; bug appeared in 0.3.38.

    *) Bugfix: ngx_http_perl_module did not work if perl was called 
       recursively.

    *) Bugfix: nginx ignored a host name in an request line.

    *) Bugfix: a worker process may got caught in an endless loop, if a 
       FastCGI server sent too many data to the stderr.

    *) Bugfix: the $upstream_response_time variable may be negative if the 
       system time was changed backward.

    *) Bugfix: the "Auth-Login-Attempt" parameter was not sent to IMAP/POP3 
       proxy authentication server when POP3 was used.

    *) Bugfix: a segmentation fault might occur if connect to IMAP/POP3 
       proxy authentication server failed.


Changes with nginx 0.4.13                                        15 Nov 2006

    *) Feature: the "proxy_pass" directive may be used inside the 
       "limit_except" block.

    *) Feature: the "limit_except" directive supports all WebDAV methods.

    *) Bugfix: if the "add_before_body" directive was used without the 
       "add_after_body" directive, then an response did not transferred 
       complete.

    *) Bugfix: a large request body did not receive if the epoll method and 
       the deferred accept() were used.

    *) Bugfix: a charset could not be set for ngx_http_autoindex_module 
       responses; bug appeared in 0.3.50.

    *) Bugfix: the "[alert] zero size buf" error when FastCGI server was 
       used;

    *) Bugfix: the --group= configuration parameter was ignored.
       Thanks to Thomas Moschny.

    *) Bugfix: the 50th subrequest in SSI response did not work; bug 
       appeared in 0.3.50.


Changes with nginx 0.4.12                                        31 Oct 2006

    *) Feature: the ngx_http_perl_module supports the $r->variable method.

    *) Bugfix: if a big static file was included using SSI in a response, 
       then the response may be transferred incomplete.

    *) Bugfix: nginx did not omit the "#fragment" part in URI.


Changes with nginx 0.4.11                                        25 Oct 2006

    *) Feature: the POP3 proxy supports the AUTH LOGIN PLAIN and CRAM-MD5.

    *) Feature: the ngx_http_perl_module supports the $r->allow_ranges 
       method.

    *) Bugfix: if the APOP was enabled in the POP3 proxy, then the 
       USER/PASS commands might not work; bug appeared in 0.4.10.


Changes with nginx 0.4.10                                        23 Oct 2006

    *) Feature: the POP3 proxy supports the APOP command.

    *) Bugfix: if the select, poll or /dev/poll methods were used, then 
       while waiting authentication server response the IMAP/POP3 proxy 
       hogged CPU.

    *) Bugfix: a segmentation fault might occur if the $server_addr 
       variable was used in the "map" directive.

    *) Bugfix: the ngx_http_flv_module did not support the byte ranges for 
       full responses; bug appeared in 0.4.7.

    *) Bugfix: nginx could not be built on Debian amd64; bug appeared in 
       0.4.9.


Changes with nginx 0.4.9                                         13 Oct 2006

    *) Feature: the "set" parameter in the "include" SSI command.

    *) Feature: the ngx_http_perl_module now tests the nginx.pm module 
       version.


Changes with nginx 0.4.8                                         11 Oct 2006

    *) Bugfix: if an "include" SSI command were before another "include" 
       SSI command with an "wait" parameter, then the "wait" parameter 
       might not work.

    *) Bugfix: the ngx_http_flv_module added the FLV header to the full 
       responses.
       Thanks to Alexey Kovyrin.


Changes with nginx 0.4.7                                         10 Oct 2006

    *) Feature: the ngx_http_flv_module.

    *) Feature: the $request_body_file variable.

    *) Feature: the "charset" and "source_charset" directives support the 
       variables.

    *) Bugfix: if an "include" SSI command were before another "include" 
       SSI command with an "wait" parameter, then the "wait" parameter 
       might not work.

    *) Bugfix: if the "proxy_buffering off" directive was used or while 
       working with memcached the connections might not be closed on 
       timeout.

    *) Bugfix: nginx did not run on 64-bit platforms except amd64, sparc64, 
       and ppc64.


Changes with nginx 0.4.6                                         06 Oct 2006

    *) Bugfix: nginx did not run on 64-bit platforms except amd64, sparc64, 
       and ppc64.

    *) Bugfix: nginx sent the chunked response for HTTP/1.1 request,
       if its length was set by text string in the 
       $r->headers_out("Content-Length", ...) method.

    *) Bugfix: after redirecting error by an "error_page" directive any 
       ngx_http_rewrite_module directive returned this error code; bug 
       appeared in 0.4.4.


Changes with nginx 0.4.5                                         02 Oct 2006

    *) Bugfix: nginx could not be built on Linux and Solaris; bug appeared 
       in 0.4.4.


Changes with nginx 0.4.4                                         02 Oct 2006

    *) Feature: the $scheme variable.

    *) Feature: the "expires" directive supports the "max" parameter.

    *) Feature: the "include" directive supports the "*" mask.
       Thanks to Jonathan Dance.

    *) Bugfix: the "return" directive always overrode the "error_page" 
       response code redirected by the "error_page" directive.

    *) Bugfix: a segmentation fault occurred if zero-length body was in PUT 
       method.

    *) Bugfix: the redirect was changed incorrectly if the variables were 
       used in the "proxy_redirect" directive.


Changes with nginx 0.4.3                                         26 Sep 2006

    *) Change: now the 499 error could not be redirected using an 
       "error_page" directive.

    *) Feature: the Solaris 10 event ports support.

    *) Feature: the ngx_http_browser_module.

    *) Bugfix: a segmentation fault may occur while redirecting the 400 
       error to the proxied server using an "proxy_pass" directive.

    *) Bugfix: a segmentation fault occurred if an unix domain socket was 
       used in an "proxy_pass" directive; bug appeared in 0.3.47.

    *) Bugfix: SSI did work with memcached and nonbuffered responses.

    *) Workaround: of the Sun Studio PAUSE hardware capability bug.


Changes with nginx 0.4.2                                         14 Sep 2006

    *) Bugfix: the O_NOATIME flag support on Linux was canceled; bug 
       appeared in 0.4.1.


Changes with nginx 0.4.1                                         14 Sep 2006

    *) Bugfix: the DragonFlyBSD compatibility.
       Thanks to Pavel Nazarov.

    *) Workaround: of bug in 64-bit Linux sendfile(), when file is more 
       than 2G.

    *) Feature: now on Linux nginx uses O_NOATIME flag for static 
       requests.
       Thanks to Yusuf Goolamabbas.


Changes with nginx 0.4.0                                         30 Aug 2006

    *) Change in internal API: the HTTP modules initialization was moved 
       from the init module phase to the HTTP postconfiguration phase.

    *) Change: now the request body is not read beforehand for the 
       ngx_http_perl_module: it's required to start the reading using the 
       $r->has_request_body method.

    *) Feature: the ngx_http_perl_module supports the DECLINED return code.

    *) Feature: the ngx_http_dav_module supports the incoming "Date" header 
       line for the PUT method.

    *) Feature: the "ssi" directive is available inside the "if" block.

    *) Bugfix: a segmentation fault occurred if there was an "index" 
       directive with variables and the first index name was without 
       variables; bug appeared in 0.1.29.


Changes with nginx 0.3.61                                        28 Aug 2006

    *) Change: now the "tcp_nodelay" directive is turned on by default.

    *) Feature: the "msie_refresh" directive.

    *) Feature: the "recursive_error_pages" directive.

    *) Bugfix: the "rewrite" directive returned incorrect redirect, if the 
       redirect had the captured escaped symbols from original URI.


Changes with nginx 0.3.60                                        18 Aug 2006

    *) Bugfix: a worker process may got caught in an endless loop while an 
       error redirection; bug appeared in 0.3.59.


Changes with nginx 0.3.59                                        16 Aug 2006

    *) Feature: now is possible to do several redirection using the 
       "error_page" directive.

    *) Bugfix: the "dav_access" directive did not support three parameters.

    *) Bugfix: the "error_page" directive did not changes the 
       "Content-Type" header line after the "X-Accel-Redirect" was used; 
       bug appeared in 0.3.58.


Changes with nginx 0.3.58                                        14 Aug 2006

    *) Feature: the "error_page" directive supports the variables.

    *) Change: now the procfs interface instead of sysctl is used on Linux.

    *) Change: now the "Content-Type" header line is inherited from first 
       response when the "X-Accel-Redirect" was used.

    *) Bugfix: the "error_page" directive did not redirect the 413 error.

    *) Bugfix: the trailing "?" did not remove old arguments if no new 
       arguments were added to a rewritten URI.

    *) Bugfix: nginx could not run on 64-bit FreeBSD 7.0-CURRENT.


Changes with nginx 0.3.57                                        09 Aug 2006

    *) Feature: the $ssl_client_serial variable.

    *) Bugfix: in the "!-e" operator of the "if" directive.
       Thanks to Andrian Budanstov.

    *) Bugfix: while a client certificate verification nginx did not send 
       to a client the required certificates information.

    *) Bugfix: the $document_root variable did not support the variables in 
       the "root" directive.


Changes with nginx 0.3.56                                        04 Aug 2006

    *) Feature: the "dav_access" directive.

    *) Feature: the "if" directive supports the "-d", "!-d", "-e", "!-e", 
       "-x", and "!-x" operators.

    *) Bugfix: a segmentation fault occurred if an request returned an 
       redirect and some sent to client header lines were logged in the 
       access log.


Changes with nginx 0.3.55                                        28 Jul 2006

    *) Feature: the "stub" parameter in the "include" SSI command.

    *) Feature: the "block" SSI command.

    *) Feature: the unicode2nginx script was added to contrib.

    *) Bugfix: if a "root" was specified by variable only, then the root 
       was relative to a server prefix.

    *) Bugfix: if the request contained "//" or "/./" and escaped symbols 
       after them, then the proxied request was sent unescaped.

    *) Bugfix: the $r->headers_in("Cookie") of the ngx_http_perl_module now 
       returns all "Cookie" header lines.

    *) Bugfix: a segmentation fault occurred if 
       "client_body_in_file_only on" was used and nginx was switches to a 
       next upstream.

    *) Bugfix: on some condition while reconfiguration character codes 
       inside the "charset_map" may be treated invalid; bug appeared in 
       0.3.50.


Changes with nginx 0.3.54                                        11 Jul 2006

    *) Feature: nginx now logs the subrequest information to the error log.

    *) Feature: the "proxy_next_upstream", "fastcgi_next_upstream", and 
       "memcached_next_upstream" directives support the "off" parameter.

    *) Feature: the "debug_connection" directive supports the CIDR address 
       form.

    *) Bugfix: if a response of proxied server or FastCGI server was 
       converted from UTF-8 or back, then it may be transferred incomplete.

    *) Bugfix: the $upstream_response_time variable had the time of the 
       first request to a backend only.

    *) Bugfix: nginx could not be built on amd64 platform; bug appeared in 
       0.3.53.


Changes with nginx 0.3.53                                        07 Jul 2006

    *) Change: the "add_header" directive adds the string to 204, 301, and 
       302 responses.

    *) Feature: the "server" directive in the "upstream" context supports 
       the "weight" parameter.

    *) Feature: the "server_name" directive supports the "*" wildcard.

    *) Feature: nginx supports the request body size more than 2G.

    *) Bugfix: if a client was successfully authorized using "satisfy_any 
       on", then anyway the message "access forbidden by rule" was written 
       in the log.

    *) Bugfix: the "PUT" method may erroneously not create a file and 
       return the 409 code.

    *) Bugfix: if the IMAP/POP3 backend returned an error, then nginx 
       continued proxying anyway.


Changes with nginx 0.3.52                                        03 Jul 2006

    *) Change: the ngx_http_index_module behavior for the "POST /" requests 
       is reverted to the 0.3.40 version state: the module now does not 
       return the 405 error.

    *) Bugfix: the worker process may got caught in an endless loop if the 
       limit rate was used; bug appeared in 0.3.37.

    *) Bugfix: ngx_http_charset_module logged "unknown charset" alert, even 
       if the recoding was not needed; bug appeared in 0.3.50.

    *) Bugfix: if a code response of the PUT request was 409, then a 
       temporary file was not removed.


Changes with nginx 0.3.51                                        30 Jun 2006

    *) Bugfix: the "<" symbols might disappeared some conditions in the 
       SSI; bug appeared in 0.3.50.


Changes with nginx 0.3.50                                        28 Jun 2006

    *) Change: the "proxy_redirect_errors" and "fastcgi_redirect_errors" 
       directives was renamed to the "proxy_intercept_errors" and 
       "fastcgi_intercept_errors" directives.

    *) Feature: the ngx_http_charset_module supports the recoding from the 
       single byte encodings to the UTF-8 encoding and back.

    *) Feature: the "X-Accel-Charset" response header line is supported in 
       proxy and FastCGI mode.

    *) Bugfix: the "\" escape symbol in the "\"" and "\'" pairs in the SSI 
       command was removed only if the command also has the "$" symbol.

    *) Bugfix: the "<!--" string might be added on some conditions in the 
       SSI after inclusion.

    *) Bugfix: if the "Content-Length: 0" header line was in response, then 
       in nonbuffered proxying mode the client connection was not closed.


Changes with nginx 0.3.49                                        31 May 2006

    *) Bugfix: in the "set" directive.

    *) Bugfix: if two or more FastCGI subrequests was in SSI, then first 
       subrequest output was included instead of second and following 
       subrequests.


Changes with nginx 0.3.48                                        29 May 2006

    *) Change: now the ngx_http_charset_module works for subrequests, if 
       the response has no "Content-Type" header line.

    *) Bugfix: if the "proxy_pass" directive has no URI part, then the 
       "proxy_redirect default" directive add the unnecessary slash in 
       start of the rewritten redirect.

    *) Bugfix: the internal redirect always transform client's HTTP method 
       to GET, now the transformation is made for the "X-Accel-Redirect" 
       redirects only and if the method is not HEAD; bug appeared in 0.3.42.

    *) Bugfix: the ngx_http_perl_module could not be built, if the perl was 
       built with the threads support; bug appeared in 0.3.46.


Changes with nginx 0.3.47                                        23 May 2006

    *) Feature: the "upstream" directive.

    *) Change: now the "\" escape symbol in the "\"" and "\'" pairs in the 
       SSI command is always removed.


Changes with nginx 0.3.46                                        11 May 2006

    *) Feature: the "proxy_hide_header", "proxy_pass_header", 
       "fastcgi_hide_header", and "fastcgi_pass_header" directives.

    *) Change: the "proxy_pass_x_powered_by", "fastcgi_x_powered_by", and 
       "proxy_pass_server" directives were canceled.

    *) Feature: the "X-Accel-Buffering" response header line is supported 
       in proxy mode.

    *) Bugfix: the reconfiguration bug and memory leaks in the 
       ngx_http_perl_module.


Changes with nginx 0.3.45                                        06 May 2006

    *) Feature: the "ssl_verify_client", "ssl_verify_depth", and 
       "ssl_client_certificate" directives.

    *) Change: the $request_method variable now returns the main request 
       method.

    *) Change: the &deg; symbol codes were changed in koi-win conversion 
       table.

    *) Feature: the euro É N symbols were added to koi-win conversion table.

    *) Bugfix: if nginx distributed the requests among several backends and 
       some backend failed, then requests intended for this backend was 
       directed to one live backend only instead of being distributed among 
       the rest.


Changes with nginx 0.3.44                                        04 May 2006

    *) Feature: the "wait" parameter in the "include" SSI command.

    *) Feature: the Ukrainian and Byelorussian characters were added to 
       koi-win conversion table.

    *) Bugfix: in the SSI.


Changes with nginx 0.3.43                                        26 Apr 2006

    *) Bugfix: in the SSI.


Changes with nginx 0.3.42                                        26 Apr 2006

    *) Feature: the "bind" option of the "listen" directive in IMAP/POP3 
       proxy.

    *) Bugfix: if the same capture in the "rewrite" directive was used more 
       then once.

    *) Bugfix: the $sent_http_content_type, $sent_http_content_length, 
       $sent_http_last_modified, $sent_http_connection, 
       $sent_http_keep_alive, and $sent_http_transfer_encoding variables 
       were not written to access log.

    *) Bugfix: the $sent_http_cache_control returned value of the single 
       "Cache-Control" response header line.


Changes with nginx 0.3.41                                        21 Apr 2006

    *) Feature: the -v switch.

    *) Bugfix: the segmentation fault may occurred if the SSI page has 
       remote subrequests.

    *) Bugfix: in FastCGI handling.

    *) Bugfix: if the perl modules path was not set using 
       --with-perl_modules_path=PATH or the "perl_modules", then the 
       segmentation fault was occurred.


Changes with nginx 0.3.40                                        19 Apr 2006

    *) Feature: the ngx_http_dav_module supports the MKCOL method.

    *) Feature: the "create_full_put_path" directive.

    *) Feature: the "$limit_rate" variable.


Changes with nginx 0.3.39                                        17 Apr 2006

    *) Feature: the "uninitialized_variable_warn" directive; the logging 
       level of the "uninitialized variable" message was lowered from 
       "alert" to "warn".

    *) Feature: the "override_charset" directive.

    *) Change: now if the unknown variable is used in the "echo" and "if 
       expr='$name'" SSI-commands, then the "unknown variable" message is 
       not logged.

    *) Bugfix: the active connection counter increased on the exceeding of 
       the connection limit specified by the "worker_connections" 
       directive; bug appeared in 0.2.0.

    *) Bugfix: the limit rate might not work on some condition; bug 
       appeared in 0.3.38.


Changes with nginx 0.3.38                                        14 Apr 2006

    *) Feature: the ngx_http_dav_module.

    *) Change: the ngx_http_perl_module optimizations.
       Thanks to Sergey Skvortsov.

    *) Feature: the ngx_http_perl_module supports the $r->request_body_file 
       method.

    *) Feature: the "client_body_in_file_only" directive.

    *) Workaround: no on disk overflow nginx tries to write access logs 
       once a second only.
       Thanks to Anton Yuzhaninov and Maxim Dounin.

    *) Bugfix: now the "limit_rate" directive more precisely limits rate if 
       rate is more than 100 Kbyte/s.
       Thanks to ForJest.

    *) Bugfix: now the IMAP/POP3 proxy escapes the "\r" and "\n" symbols in 
       login and password to pass authorization server.
       Thanks to Maxim Dounin.


Changes with nginx 0.3.37                                        07 Apr 2006

    *) Feature: the "limit_except" directive.

    *) Feature: the "if" directive supports the "!~", "!~*", "-f", and 
       "!-f" operators.

    *) Feature: the ngx_http_perl_module supports the $r->request_body 
       method.

    *) Bugfix: in the ngx_http_addition_filter_module.


Changes with nginx 0.3.36                                        05 Apr 2006

    *) Feature: the ngx_http_addition_filter_module.

    *) Feature: the "proxy_pass" and "fastcgi_pass" directives may be used 
       inside the "if" block.

    *) Feature: the "proxy_ignore_client_abort" and 
       "fastcgi_ignore_client_abort" directives.

    *) Feature: the "$request_completion" variable.

    *) Feature: the ngx_http_perl_module supports the $r->request_method 
       and $r->remote_addr.

    *) Feature: the ngx_http_ssi_module supports the "elif" command.

    *) Bugfix: the "\/" string in the expression of the "if" command of the 
       ngx_http_ssi_module was treated incorrectly.

    *) Bugfix: in the regular expressions in the "if" command of the 
       ngx_http_ssi_module.

    *) Bugfix: if the relative path was specified in the 
       "client_body_temp_path", "proxy_temp_path", "fastcgi_temp_path", and 
       "perl_modules" directives, then the directory was used relatively to 
       a current path but not to a server prefix.


Changes with nginx 0.3.35                                        22 Mar 2006

    *) Bugfix: the accept-filter and the TCP_DEFER_ACCEPT option were set 
       for first "listen" directive only; bug appeared in 0.3.31.

    *) Bugfix: in the "proxy_pass" directive without the URI part in a 
       subrequest.


Changes with nginx 0.3.34                                        21 Mar 2006

    *) Feature: the "add_header" directive supports the variables.


Changes with nginx 0.3.33                                        15 Mar 2006

    *) Feature: the "http_503" parameter of the "proxy_next_upstream" or 
       "fastcgi_next_upstream" directives.

    *) Bugfix: ngx_http_perl_module did not work with inlined in the 
       configuration code, if it was not started with the "sub" word.

    *) Bugfix: in the "post_action" directive.


Changes with nginx 0.3.32                                        11 Mar 2006

    *) Bugfix: the debug logging on startup and reconfiguration time was 
       removed; bug appeared in 0.3.31.


Changes with nginx 0.3.31                                        10 Mar 2006

    *) Change: now nginx passes the malformed proxied backend responses.

    *) Feature: the "listen" directives support the address in the "*:port" 
       form.

    *) Feature: the EVFILER_TIMER support in MacOSX 10.4.

    *) Workaround: for MacOSX 64-bit kernel kqueue millisecond timeout 
       bug.
       Thanks Andrei Nigmatulin.

    *) Bugfix: if there were several "listen" directives listening one 
       various addresses inside one server, then server names like 
       "*.domain.tld" worked for first address only; bug appeared in 0.3.18.

    *) Bugfix: if the HTTP protocol was used in the "proxy_pass" directive 
       and the request body was in temporarily file then the request was 
       not transferred.

    *) Bugfix: perl 5.8.8 compatibility.


Changes with nginx 0.3.30                                        22 Feb 2006

    *) Change: the ECONNABORTED error log level was changed to "error" from 
       "crit".

    *) Bugfix: the ngx_http_perl_module could not be build without the 
       ngx_http_ssi_filter_module.

    *) Bugfix: nginx could not be built on i386 platform, if the PIC was 
       used; bug appeared in 0.3.27.


Changes with nginx 0.3.29                                        20 Feb 2006

    *) Feature: now nginx uses less memory, if PHP in FastCGI mode sends 
       many warnings before the response.

    *) Bugfix: the "Transfer-Encoding: chunked" header line was issued in 
       the 204 responses for the HTTP/1.1 requests.

    *) Bugfix: nginx returned the 502 response, if the complete response 
       header lines were transferred in a separate FastCGI records.

    *) Bugfix: if the proxied URI was specified in the "post_action" 
       directive, then it ran only after a successful completion of a 
       request.


Changes with nginx 0.3.28                                        16 Feb 2006

    *) Feature: the "restrict_host_names" directive was canceled.

    *) Feature: the --with-cpu-opt=ppc64 configuration parameter.

    *) Bugfix: on some condition the proxied connection with a client was 
       terminated prematurely.
       Thanks to Vladimir Shutoff.

    *) Bugfix: the "X-Accel-Limit-Rate" header line was not taken into 
       account if the request was redirected using the "X-Accel-Redirect" 
       header line.

    *) Bugfix: the "post_action" directive ran only after a successful 
       completion of a request.

    *) Bugfix: the proxied response body generated by the "post_action" 
       directive was transferred to a client.


Changes with nginx 0.3.27                                        08 Feb 2006

    *) Change: the "variables_hash_max_size" and 
       "variables_hash_bucket_size" directives.

    *) Feature: the $body_bytes_sent variable can be used not only in the 
       "log_format" directive.

    *) Feature: the $ssl_protocol and $ssl_cipher variables.

    *) Feature: the cache line size detection for widespread CPUs at start 
       time.

    *) Feature: now the "accept_mutex" directive is supported using 
       fcntl(2) on platforms different from i386, amd64, sparc64, and ppc.

    *) Feature: the "lock_file" directive and the --with-lock-path=PATH 
       autoconfiguration directive.

    *) Bugfix: if the HTTP protocol was used in the "proxy_pass" directive 
       then the requests with the body was not transferred.


Changes with nginx 0.3.26                                        03 Feb 2006

    *) Change: the "optimize_host_names" directive was renamed to the 
       "optimize_server_names".

    *) Bugfix: if in the "proxy_pass" directive was no the URI part, then 
       the main request URI was transferred to a backend while proxying the 
       SSI subrequest.


Changes with nginx 0.3.25                                        01 Feb 2006

    *) Bugfix: the segmentation fault was occurred on start or while 
       reconfiguration if there was invalid configuration; bug appeared in 
       0.3.24.


Changes with nginx 0.3.24                                        01 Feb 2006

    *) Workaround: for bug in FreeBSD kqueue.

    *) Bugfix: now a response generated by the "post_action" directive is 
       not transferred to a client.

    *) Bugfix: the memory leaks were occurring if many log files were used.

    *) Bugfix: the first "proxy_redirect" directive was working inside one 
       location.

    *) Bugfix: on 64-bit platforms segmentation fault may occurred on start 
       if the many names were used in the "server_name" directives; bug 
       appeared in 0.3.18.


Changes with nginx 0.3.23                                        24 Jan 2006

    *) Feature: the "optimize_host_names" directive.

    *) Bugfix: in using of the variables in the "path" and "alias" 
       directives.

    *) Bugfix: the ngx_http_perl_module was incorrectly built on Linux and 
       Solaris.


Changes with nginx 0.3.22                                        17 Jan 2006

    *) Feature: the ngx_http_perl_module supports the $r->args and 
       $r->unescape methods.

    *) Feature: the method $r->query_string of ngx_http_perl_module was 
       canceled.

    *) Bugfix: segmentation fault was occurred if the "none" or "blocked" 
       values was specified in the "valid_referers" directive; bug appeared 
       in 0.3.18.


Changes with nginx 0.3.21                                        16 Jan 2006

    *) Feature: the ngx_http_perl_module.

    *) Change: the "valid_referers" directive allows the referreres without 
       URI part.


Changes with nginx 0.3.20                                        11 Jan 2006

    *) Bugfix: in SSI handling.

    *) Bugfix: the ngx_http_memcached_module did not support the keys in 
       the "/usr?args" form.


Changes with nginx 0.3.19                                        28 Dec 2005

    *) Feature: the "path" and "alias" directives support the variables.

    *) Change: now the "valid_referers" directive again checks the URI part.

    *) Bugfix: in SSI handling.


Changes with nginx 0.3.18                                        26 Dec 2005

    *) Feature: the "server_names" directive supports the ".domain.tld" 
       names.

    *) Feature: the "server_names" directive uses the hash for the 
       "*.domain.tld" names and more effective hash for usual names.

    *) Change: the "server_names_hash_max_size" and 
       "server_names_hash_bucket_size" directives.

    *) Change: the "server_names_hash" and "server_names_hash_threshold" 
       directives were canceled.

    *) Feature: the "valid_referers" directive uses the hash site names.

    *) Change: now the "valid_referers" directive checks the site names 
       only without the URI part.

    *) Bugfix: some ".domain.tld" names incorrectly processed by the 
       ngx_http_map_module.

    *) Bugfix: segmentation fault was occurred if configuration file did 
       not exist; bug appeared in 0.3.12.

    *) Bugfix: on 64-bit platforms segmentation fault may occurred on 
       start; bug appeared in 0.3.16.


Changes with nginx 0.3.17                                        18 Dec 2005

    *) Change: now on Linux configure checks the presence of epoll and 
       sendfile64() in kernel.

    *) Feature: the "map" directive supports domain names in the 
       ".domain.tld" form.

    *) Bugfix: the timeouts were not used in SSL handshake; bug appeared in 
       0.2.4.

    *) Bugfix: in the HTTP protocol in the "proxy_pass" directive.

    *) Bugfix: when the HTTP protocol was used in the "proxy_pass" 
       directive the port 80 was used by default.


Changes with nginx 0.3.16                                        16 Dec 2005

    *) Feature: the ngx_http_map_module.

    *) Feature: the "types_hash_max_size" and "types_hash_bucket_size" 
       directives.

    *) Feature: the "ssi_value_length" directive.

    *) Feature: the "worker_rlimit_core" directive.

    *) Workaround: the connection number in logs was always 1 if nginx was 
       built by the icc 8.1 or 9.0 compilers with optimization for 
       Pentium 4.

    *) Bugfix: the "config timefmt" SSI command set incorrect time format.

    *) Bugfix: nginx did not close connection to IMAP/POP3 backend for the 
       SSL connections; bug appeared in 0.3.13.
       Thanks to Rob Mueller.

    *) Bugfix: segmentation fault may occurred in at SSL shutdown; bug 
       appeared in 0.3.13.


Changes with nginx 0.3.15                                        07 Dec 2005

    *) Feature: the new 444 code of the "return" directive to close 
       connection.

    *) Feature: the "so_keepalive" directive in IMAP/POP3 proxy.

    *) Bugfix: if there are unclosed connection nginx now calls abort() 
       only on gracefull quit and active "debug_points" directive.


Changes with nginx 0.3.14                                        05 Dec 2005

    *) Bugfix: in the 304 response the body was transferred; bug appeared 
       in 0.3.13.


Changes with nginx 0.3.13                                        05 Dec 2005

    *) Feature: the IMAP/POP3 proxy supports STARTTLS and STLS.

    *) Bugfix: the IMAP/POP3 proxy did not work with the select, poll, and 
       /dev/poll methods.

    *) Bugfix: in SSI handling.

    *) Bugfix: now Solaris sendfilev() is not used to transfer the client 
       request body to FastCGI-server via the unix domain socket.

    *) Bugfix: the "auth_basic" directive did not disable the 
       authorization; bug appeared in 0.3.11.


Changes with nginx 0.3.12                                        26 Nov 2005

    *) Security: if nginx was built with the ngx_http_realip_module and the 
       "satisfy_any on" directive was used, then access and authorization 
       directives did not work. The ngx_http_realip_module was not built 
       and is not built by default.

    *) Change: the "$time_gmt" variable name was changed to "$time_local".

    *) Change: the "proxy_header_buffer_size" and 
       "fastcgi_header_buffer_size" directives was renamed to the 
       "proxy_buffer_size" and "fastcgi_buffer_size" directives.

    *) Feature: the ngx_http_memcached_module.

    *) Feature: the "proxy_buffering" directive.

    *) Bugfix: the changes in accept mutex handling when the "rtsig" method 
       was used; bug appeared in 0.3.0.

    *) Bugfix: if the client sent the "Transfer-Encoding: chunked" header 
       line, then nginx returns the 411 error.

    *) Bugfix: if the "auth_basic" directive was inherited from the http 
       level, then the realm in the "WWW-Authenticate" header line was 
       without the "Basic realm" text.

    *) Bugfix: if the "combined" format was explicitly specified in the 
       "access_log" directive, then the empty lines was written to the log; 
       bug appeared in 0.3.8.

    *) Bugfix: nginx did not run on the sparc platform under any OS except 
       Solaris.

    *) Bugfix: now it is not necessary to place space between the quoted 
       string and closing bracket in the "if" directive.


Changes with nginx 0.3.11                                        15 Nov 2005

    *) Bugfix: nginx did not pass the client request headers and body while 
       proxying; bug appeared in 0.3.10.


Changes with nginx 0.3.10                                        15 Nov 2005

    *) Change: the "valid_referers" directive and the "$invalid_referer" 
       variable were moved to the new ngx_http_referer_module from the 
       ngx_http_rewrite_module.

    *) Change: the "$apache_bytes_sent" variable name was changed to 
       "$body_bytes_sent".

    *) Feature: the "$sent_http_..." variables.

    *) Feature: the "if" directive supports the "=" and "!=" operations.

    *) Feature: the "proxy_pass" directive supports the HTTPS protocol.

    *) Feature: the "proxy_set_body" directive.

    *) Feature: the "post_action" directive.

    *) Feature: the ngx_http_empty_gif_module.

    *) Feature: the "worker_cpu_affinity" directive for Linux.

    *) Bugfix: the "rewrite" directive did not unescape URI part in 
       redirect, now it is unescaped except the %00-%25 and %7F-%FF 
       characters.

    *) Bugfix: nginx could not be built by the icc 9.0 compiler.

    *) Bugfix: if the SSI was enabled for zero size static file, then the 
       chunked response was encoded incorrectly.


Changes with nginx 0.3.9                                         10 Nov 2005

    *) Bugfix: nginx considered URI as unsafe if two any symbols was 
       between two slashes; bug appeared in 0.3.8.


Changes with nginx 0.3.8                                         09 Nov 2005

    *) Security: nginx now checks URI got from a backend in 
       "X-Accel-Redirect" header line or in SSI file for the "/../" paths 
       and zeroes.

    *) Change: nginx now does not treat the empty user name in the 
       "Authorization" header line as valid one.

    *) Feature: the "ssl_session_timeout" directives of the 
       ngx_http_ssl_module and ngx_imap_ssl_module.

    *) Feature: the "auth_http_header" directive of the 
       ngx_imap_auth_http_module.

    *) Feature: the "add_header" directive.

    *) Feature: the ngx_http_realip_module.

    *) Feature: the new variables to use in the "log_format" directive: 
       $bytes_sent, $apache_bytes_sent, $status, $time_gmt, $uri, 
       $request_time, $request_length, $upstream_status, 
       $upstream_response_time, $gzip_ratio, $uid_got, $uid_set, 
       $connection, $pipe, and $msec. The parameters in the "%name" form 
       will be canceled soon.

    *) Change: now the false variable values in the "if" directive are the 
       empty string "" and string starting with "0".

    *) Bugfix: while using proxied or FastCGI-server nginx may leave 
       connections and temporary files with client requests in open state.

    *) Bugfix: the worker processes did not flush the buffered logs on 
       graceful exit.

    *) Bugfix: if the request URI was changes by the "rewrite" directive 
       and the request was proxied in location given by regular expression, 
       then the incorrect request was transferred to backend; bug appeared 
       in 0.2.6.

    *) Bugfix: the "expires" directive did not remove the previous 
       "Expires" header.

    *) Bugfix: nginx may stop to accept requests if the "rtsig" method and 
       several worker processes were used.

    *) Bugfix: the "\"" and "\'" escape symbols were incorrectly handled in 
       SSI commands.

    *) Bugfix: if the response was ended just after the SSI command and 
       gzipping was used, then the response did not transferred complete or 
       did not transferred at all.


Changes with nginx 0.3.7                                         27 Oct 2005

    *) Feature: the "access_log" supports the "buffer=" parameter.

    *) Bugfix: nginx could not be built on platforms different from i386, 
       amd64, sparc É ppc; bug appeared in 0.3.2.


Changes with nginx 0.3.6                                         24 Oct 2005

    *) Change: now the IMAP/POP3 proxy do not send the empty login to 
       authorization server.

    *) Feature: the "log_format" supports the variables in the $name form.

    *) Bugfix: if at least in one server was no the "listen" directive, 
       then nginx did not listen on the 80 port; bug appeared in 0.3.3.

    *) Bugfix: if the URI part is omitted in "proxy_pass" directive, the 
       the 80 port was always used.


Changes with nginx 0.3.5                                         21 Oct 2005

    *) Bugfix: the segmentation fault may occurred if the IMAP/POP3 login 
       was changed by authorization server; bug appeared in 0.2.2.

    *) Bugfix: the accept mutex did not work and all connections were 
       handled by one process; bug appeared in 0.3.3.

    *) Bugfix: the timeout did not work if the "rtsig" method and the 
       "timer_resolution" directive were used.


Changes with nginx 0.3.4                                         19 Oct 2005

    *) Bugfix: nginx could not be built on Linux 2.4+ and MacOS X; bug 
       appeared in 0.3.3.


Changes with nginx 0.3.3                                         19 Oct 2005

    *) Change: the "bl" and "af" parameters of the "listen" directive was 
       renamed to the "backlog" and "accept_filter".

    *) Feature: the "rcvbuf" and "sndbuf" parameters of the "listen" 
       directive.

    *) Change: the "$msec" log parameter does not require now the 
       additional the gettimeofday() system call.

    *) Feature: the -t switch now tests the "listen" directives.

    *) Bugfix: if the invalid address was specified in the "listen" 
       directive, then after the -HUP signal nginx left an open socket in 
       the CLOSED state.

    *) Bugfix: the mime type may be incorrectly set to default value for 
       index file with variable in the name; bug appeared in 0.3.0.

    *) Feature: the "timer_resolution" directive.

    *) Feature: the millisecond "$upstream_response_time" log parameter.

    *) Bugfix: a temporary file with client request body now is removed 
       just after the response header was transferred to a client.

    *) Bugfix: OpenSSL 0.9.6 compatibility.

    *) Bugfix: the SSL certificate and key file paths could not be relative.

    *) Bugfix: the "ssl_prefer_server_ciphers" directive did not work in 
       the ngx_imap_ssl_module.

    *) Bugfix: the "ssl_protocols" directive allowed to specify the single 
       protocol only.


Changes with nginx 0.3.2                                         12 Oct 2005

    *) Feature: the Sun Studio 10 C compiler support.

    *) Feature: the "proxy_upstream_max_fails", 
       "proxy_upstream_fail_timeout", "fastcgi_upstream_max_fails", and 
       "fastcgi_upstream_fail_timeout" directives.


Changes with nginx 0.3.1                                         10 Oct 2005

    *) Bugfix: the segmentation fault occurred when the signal queue 
       overflowed if the "rtsig" method was used; bug appeared in 0.2.0.

    *) Change: correct handling of the "\\", "\"", "\'", and "\$" pairs in 
       SSI.


Changes with nginx 0.3.0                                         07 Oct 2005

    *) Change: the 10-days live time limit of worker process was 
       eliminated. The limit was introduced because of millisecond timers 
       overflow.


Changes with nginx 0.2.6                                         05 Oct 2005

    *) Change: while using load-balancing the time before the failed 
       backend retry was decreased from 60 to 10 seconds.

    *) Change: the "proxy_pass_unparsed_uri" was canceled, the original URI 
       now passed, if the URI part is omitted in "proxy_pass" directive.

    *) Feature: the "error_page" directive supports redirects and allows 
       more flexible to change an error code.

    *) Change: the charset in the "Content-Type" header line now is ignored 
       in proxied subrequests.

    *) Bugfix: if the URI was changed in the "if" block and request did not 
       found new configuration, then the ngx_http_rewrite_module rules ran 
       again.

    *) Bugfix: if the "set" directive set the ngx_http_geo_module variable 
       in some configuration part, the this variable was not available in 
       other configuration parts and the "using uninitialized variable" 
       error was occurred; bug appeared in 0.2.2.


Changes with nginx 0.2.5                                         04 Oct 2005

    *) Change: the duplicate value of the ngx_http_geo_module variable now 
       causes the warning and changes old value.

    *) Feature: the ngx_http_ssi_module supports the "set" command.

    *) Feature: the ngx_http_ssi_module supports the "file" parameter in 
       the "include" command.

    *) Feature: the ngx_http_ssi_module supports the variable value 
       substitutions in expressions of the "if" command.


Changes with nginx 0.2.4                                         03 Oct 2005

    *) Feature: the ngx_http_ssi_module supports "$var=text", "$var!=text", 
       "$var=/text/", and "$var!=/text/" expressions in the "if" command.

    *) Bugfix: in proxying location without trailing slash; bug appeared in 
       0.1.44.

    *) Bugfix: the segmentation fault may occurred if the "rtsig" method 
       was used; bug appeared in 0.2.0.


Changes with nginx 0.2.3                                         30 Sep 2005

    *) Bugfix: nginx could not be built without the --with-debug option; 
       bug appeared in 0.2.2.


Changes with nginx 0.2.2                                         30 Sep 2005

    *) Feature: the "config errmsg" command of the ngx_http_ssi_module.

    *) Change: the ngx_http_geo_module variables can be overridden by the 
       "set" directive.

    *) Feature: the "ssl_protocols" and "ssl_prefer_server_ciphers" 
       directives of the ngx_http_ssl_module and ngx_imap_ssl_module.

    *) Bugfix: the ngx_http_autoindex_module did not show correctly the 
       long file names;

    *) Bugfix: the ngx_http_autoindex_module now do not show the files 
       starting by dot.

    *) Bugfix: if the SSL handshake failed then another connection may be 
       closed too.
       Thanks to Rob Mueller.

    *) Bugfix: the export versions of MSIE 5.x could not connect via HTTPS.


Changes with nginx 0.2.1                                         23 Sep 2005

    *) Bugfix: if all backend using in load-balancing failed after one 
       error, then nginx may got caught in an endless loop; bug appeared in 
       0.2.0.


Changes with nginx 0.2.0                                         23 Sep 2005

    *) The pid-file names used during online upgrade was changed and now is 
       not required a manual rename operation. The old master process adds 
       the ".oldbin" suffix to its pid-file and executes a new binary file. 
       The new master process creates usual pid-file without the ".newbin" 
       suffix. If the master process exits, then old master process renames 
       back its pid-file with the ".oldbin" suffix to the pid-file without 
       suffix.

    *) Change: the "worker_connections" directive, new name of the 
       "connections" directive; now the directive specifies maximum number 
       of connections, but not maximum socket descriptor number.

    *) Feature: SSL supports the session cache inside one worker process.

    *) Feature: the "satisfy_any" directive.

    *) Change: the ngx_http_access_module and ngx_http_auth_basic_module do 
       not run for subrequests.

    *) Feature: the "worker_rlimit_nofile" and "worker_rlimit_sigpending" 
       directives.

    *) Bugfix: if all backend using in load-balancing failed after one 
       error, then nginx did not try do connect to them during 60 seconds.

    *) Bugfix: in IMAP/POP3 command argument parsing.
       Thanks to Rob Mueller.

    *) Bugfix: errors while using SSL in IMAP/POP3 proxy.

    *) Bugfix: errors while using SSI and gzipping.

    *) Bugfix: the "Expires" and "Cache-Control" header lines were omitted 
       from the 304 responses.
       Thanks to Alexandr Kukushkin.


Changes with nginx 0.1.45                                        08 Sep 2005

    *) Change: the "ssl_engine" directive was canceled in the 
       ngx_http_ssl_module and now is introduced at global level.

    *) Bugfix: the responses with SSI subrequests did not transferred via 
       SSL connection.

    *) Various bug fixes in the IMAP/POP3 proxy.


Changes with nginx 0.1.44                                        06 Sep 2005

    *) Feature: the IMAP/POP3 proxy supports SSL.

    *) Feature: the "proxy_timeout" directive of the ngx_imap_proxy_module.

    *) Feature: the "userid_mark" directive.

    *) Feature: the $remote_user variable value is determined independently 
       of authorization use.


Changes with nginx 0.1.43                                        30 Aug 2005

    *) Feature: the listen(2) backlog in the "listen" directive can be 
       changed using the -HUP signal.

    *) Feature: the geo2nginx.pl script was added to contrib.

    *) Change: the FastCGI parameters with the empty values now are passed 
       to a server.

    *) Bugfix: the segmentation fault occurred or the worker process may 
       got caught in an endless loop if the proxied or FastCGI server sent 
       the "Cache-Control" header line and the "expires" directive was 
       used; in the proxied mode the bug appeared in 0.1.29.


Changes with nginx 0.1.42                                        23 Aug 2005

    *) Bugfix: if the request URI had a zero length after the processing in 
       the ngx_http_proxy_module, then the segmentation fault or bus error 
       occurred in the ngx_http_proxy_module.

    *) Bugfix: the "limit_rate" directive did not work inside the "if" 
       block; bug appeared in 0.1.38.


Changes with nginx 0.1.41                                        25 Jul 2005

    *) Bugfix: if the variable was used in the configuration file, then it 
       can not be used in SSI.


Changes with nginx 0.1.40                                        22 Jul 2005

    *) Bugfix: if a client sent too long header line, then the request 
       information did not logged in the error log.

    *) Bugfix: the "Set-Cookie" header line was not transferred when the 
       "X-Accel-Redirect" was used; bug appeared in 0.1.39.

    *) Bugfix: the "Content-Disposition" header line was not transferred 
       when the "X-Accel-Redirect" was used.

    *) Bugfix: the master process did not close the listen socket on the 
       SIGQUIT signal.

    *) Bugfix: after on-line upgrade on Linux and Solaris the process name 
       became shorter in the "ps" command.


Changes with nginx 0.1.39                                        14 Jul 2005

    *) The changes in the ngx_http_charset_module: the "default_charset" 
       directive was canceled; the "charset" directive sets the response 
       charset; the "source_charset" directive sets the source charset only.

    *) Bugfix: the backend "WWW-Authenticate" header line did not 
       transferred while the 401 response code redirecting.

    *) Bugfix: the ngx_http_proxy_module and ngx_http_fastcgi_module may 
       close a connection before anything was transferred to a client; bug 
       appeared in 0.1.38.

    *) Workaround: the Linux glibc crypt_r() initialization bug.

    *) Bugfix: the ngx_http_ssi_module did not support the relative URI in 
       the "include virtual" command.

    *) Bugfix: if the backend response had the "Location" header line and 
       nginx should not rewrite this line, then the 500 code response body 
       was transferred; bug appeared in 0.1.29.

    *) Bugfix: some directives of the ngx_http_proxy_module and 
       ngx_http_fastcgi_module were not inherited from the server to the 
       location level; bug appeared in 0.1.29.

    *) Bugfix: the ngx_http_ssl_module did not support the certificate 
       chain.

    *) Bugfix: the ngx_http_autoindex_module did not show correctly the 
       long file names; bug appeared in 0.1.38.

    *) Bugfixes in IMAP/POP3 proxy in interaction with a backend at the 
       login state.


Changes with nginx 0.1.38                                        08 Jul 2005

    *) Feature: the "limit_rate" directive is supported in in proxy and 
       FastCGI mode.

    *) Feature: the "X-Accel-Limit-Rate" response header line is supported 
       in proxy and FastCGI mode.

    *) Feature: the "break" directive.

    *) Feature: the "log_not_found" directive.

    *) Bugfix: the response status code was not changed when request was 
       redirected by the ""X-Accel-Redirect" header line.

    *) Bugfix: the variables set by the "set" directive could not be used 
       in SSI.

    *) Bugfix: the segmentation fault may occurred if the SSI page has more 
       than one remote subrequest.

    *) Bugfix: nginx treated the backend response as invalid if the status 
       line in the header was transferred in two packets; bug appeared in 
       0.1.29.

    *) Feature: the "ssi_types" directive.

    *) Feature: the "autoindex_exact_size" directive.

    *) Bugfix: the ngx_http_autoindex_module did not support the long file 
       names in UTF-8.

    *) Feature: the IMAP/POP3 proxy.


Changes with nginx 0.1.37                                        23 Jun 2005

    *) Change: now the "\n" is added to the end of the "nginx.pid" file.

    *) Bugfix: the responses may be transferred not completely, if many 
       parts or the big parts were included by SSI.

    *) Bugfix: if all backends had returned the 404 reponse and the 
       "http_404" parameter of the "proxy_next_upstream" or 
       "fastcgi_next_upstream" directives was used, then nginx started to 
       request all backends again.


Changes with nginx 0.1.36                                        15 Jun 2005

    *) Change: if the request header has duplicate the "Host", 
       "Connection", "Content-Length", or "Authorization" lines, then nginx 
       now returns the 400 error.

    *) Change: the "post_accept_timeout" directive was canceled.

    *) Feature: the "default", "af=", "bl=", "deferred", and "bind" 
       parameters of the "listen" directive.

    *) Feature: the FreeBSD accept filters support.

    *) Feature: the Linux TCP_DEFER_ACCEPT support.

    *) Bugfix: the ngx_http_autoindex_module did not support the file names 
       in UTF-8.

    *) Bugfix: the new log file can be rotated by the -USR1 signal only if 
       the reconfiguration by the -HUP signal was made twice.


Changes with nginx 0.1.35                                        07 Jun 2005

    *) Feature: the "working_directory" directive.

    *) Feature: the "port_in_redirect" directive.

    *) Bugfix: the segmentation fault was occurred if the backend response 
       header was in several packets; bug appeared in 0.1.29.

    *) Bugfix: if more than 10 servers were configured or some server did 
       not use the "listen" directive, then the segmentation fault was 
       occurred on the start.

    *) Bugfix: the segmentation fault might occur if the response was 
       bigger than the temporary file.

    *) Bugfix: nginx returned the 400 response on requests like 
       "GET http://www.domain.com/uri HTTP/1.0"; bug appeared in 0.1.28.


Changes with nginx 0.1.34                                        26 May 2005

    *) Bugfix: the worker process may got caught in an endless loop if the 
       big response part were include by SSI.

    *) Bugfix: the variables set by the "set" directive were not available 
       in SSI.

    *) Feature: the "autoindex_localtime" directive.

    *) Bugfix: the empty value of the "proxy_set_header" directive forbids 
       the client request header line passing.


Changes with nginx 0.1.33                                        23 May 2005

    *) Bugfix: nginx could not be built with the --without-pcre parameter; 
       bug appeared in 0.1.29.

    *) Bugfix: 3, 4, 7, and 8 the "proxy_set_header" directives in one 
       level cause the bus fault on start up.

    *) Bugfix: the HTTP protocol was specified in the HTTPS redirects.

    *) Bugfix: if the "rewrite" directive used the captures inside the "if" 
       directive, then the 500 error code was returned.


Changes with nginx 0.1.32                                        19 May 2005

    *) Bugfix: the arguments were omitted in the redirects, issued by the 
       "rewrite" directive; bug appeared in 0.1.29.

    *) Feature: the "if" directive supports the captures in regular 
       expressions.

    *) Feature: the "set" directive supports the variables and the captures 
       of regular expressions.

    *) Feature: the "X-Accel-Redirect" response header line is supported in 
       proxy and FastCGI mode.


Changes with nginx 0.1.31                                        16 May 2005

    *) Bugfix: the response encrypted by SSL may not transferred complete.

    *) Bugfix: errors while processing FastCGI response by SSI.

    *) Bugfix: errors while using SSI and gzipping.

    *) Bugfix: the redirect with the 301 code was transferred without 
       response body; bug appeared in 0.1.30.


Changes with nginx 0.1.30                                        14 May 2005

    *) Bugfix: the worker process may got caught in an endless loop if the 
       SSI was used.

    *) Bugfix: the response encrypted by SSL may not transferred complete.

    *) Bugfix: if the length of the response part received at once from 
       proxied or FastCGI server was equal to 500, then nginx returns the 
       500 response code; in proxy mode the bug appeared in 0.1.29 only.

    *) Bugfix: nginx did not consider the directives with 8 or 9 parameters 
       as invalid.

    *) Feature: the "return" directive can return the 204 response code.

    *) Feature: the "ignore_invalid_headers" directive.


Changes with nginx 0.1.29                                        12 May 2005

    *) Feature: the ngx_http_ssi_module supports "include virtual" command.

    *) Feature: the ngx_http_ssi_module supports the condition command like 
       'if expr="$NAME"' and "else" and "endif" commands. Only one nested 
       level is supported.

    *) Feature: the ngx_http_ssi_module supports the DATE_LOCAL and 
       DATE_GMT variables and "config timefmt" command.

    *) Feature: the "ssi_ignore_recycled_buffers" directive.

    *) Bugfix: the "echo" command did not show the default value for the 
       empty QUERY_STRING variable.

    *) Change: the ngx_http_proxy_module was rewritten.

    *) Feature: the "proxy_redirect", "proxy_pass_request_headers", 
       "proxy_pass_request_body", and "proxy_method" directives.

    *) Feature: the "proxy_set_header" directive. The "proxy_x_var" was 
       canceled and must be replaced with the proxy_set_header directive.

    *) Change: the "proxy_preserve_host" is canceled and must be replaced 
       with the "proxy_set_header Host $host" and the "proxy_redirect off" 
       directives, the "proxy_set_header Host $host:$proxy_port" directive 
       and the appropriate proxy_redirect directives.

    *) Change: the "proxy_set_x_real_ip" is canceled and must be replaced 
       with the "proxy_set_header X-Real-IP $remote_addr" directive.

    *) Change: the "proxy_add_x_forwarded_for" is canceled and must be 
       replaced with 
       the "proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for" 
       directive.

    *) Change: the "proxy_set_x_url" is canceled and must be replaced with 
       the "proxy_set_header X-URL http://$host:$server_port$request_uri" 
       directive.

    *) Feature: the "fastcgi_param" directive.

    *) Change: the "fastcgi_root", "fastcgi_set_var" and "fastcgi_params" 
       directive are canceled and must be replaced with the fastcgi_param 
       directives.

    *) Feature: the "index" directive can use the variables.

    *) Feature: the "index" directive can be used at http and server levels.

    *) Change: the last index only in the "index" directive can be absolute.

    *) Feature: the "rewrite" directive can use the variables.

    *) Feature: the "internal" directive.

    *) Feature: the CONTENT_LENGTH, CONTENT_TYPE, REMOTE_PORT, SERVER_ADDR, 
       SERVER_PORT, SERVER_PROTOCOL, DOCUMENT_ROOT, SERVER_NAME, 
       REQUEST_METHOD, REQUEST_URI, and REMOTE_USER variables.

    *) Change: nginx now passes the invalid lines in a client request 
       headers or a backend response header.

    *) Bugfix: if the backend did not transfer response for a long time and 
       the "send_timeout" was less than "proxy_read_timeout", then nginx 
       returned the 408 response.

    *) Bugfix: the segmentation fault was occurred if the backend sent an 
       invalid line in response header; bug appeared in 0.1.26.

    *) Bugfix: the segmentation fault may occurred in FastCGI fault 
       tolerance configuration.

    *) Bugfix: the "expires" directive did not remove the previous 
       "Expires" and "Cache-Control" headers.

    *) Bugfix: nginx did not take into account trailing dot in "Host" 
       header line.

    *) Bugfix: the ngx_http_auth_module did not work under Linux.

    *) Bugfix: the rewrite directive worked incorrectly, if the arguments 
       were in a request.

    *) Bugfix: nginx could not be built on MacOS X.


Changes with nginx 0.1.28                                        08 Apr 2005

    *) Bugfix: nginx hogs CPU while proxying the huge files.

    *) Bugfix: nginx could not be built by gcc 4.0 on Linux.


Changes with nginx 0.1.27                                        28 Mar 2005

    *) Feature: the "blocked" parameter of the "valid_referers" directive.

    *) Change: the errors while handling the request header now logged at 
       "info" level. The server name and the "Host" and "Referer" header 
       lines also logged.

    *) Change: the "Host" header line is also logged in error log.

    *) Feature: the proxy_pass_unparsed_uri directive. The special handling 
       of the "://" symbols in URI, appeared in 0.1.11 version, now is 
       canceled.

    *) Bugfix: nginx could not be built on FreeBSD and Linux, if the 
       --without-ngx_http_auth_basic_module configuration parameter was 
       used.


Changes with nginx 0.1.26                                        22 Mar 2005

    *) Change: the invalid client header lines are now ignored and logged 
       at the info level.

    *) Change: the server name is also logged in error log.

    *) Feature: the ngx_http_auth_basic_module module and the auth_basic 
       and auth_basic_user_file directives.


Changes with nginx 0.1.25                                        19 Mar 2005

    *) Bugfix: nginx did run on Linux parisc.

    *) Feature: nginx now does not start under FreeBSD if the sysctl 
       kern.ipc.somaxconn value is too big.

    *) Bugfix: if a request was internally redirected by the 
       ngx_http_index_module module to the ngx_http_proxy_module or 
       ngx_http_fastcgi_module modules, then the index file was not closed 
       after request completion.

    *) Feature: the "proxy_pass" can be used in location with regular 
       expression.

    *) Feature: the ngx_http_rewrite_filter_module module supports the 
       condition like "if ($HTTP_USER_AGENT ~ MSIE)".

    *) Bugfix: nginx started too slow if the large number of addresses and 
       text values were used in the "geo" directive.

    *) Change: a variable name must be declared as "$name" in the "geo" 
       directive. The previous variant without "$" is still supported, but 
       will be removed soon.

    *) Feature: the "%{VARIABLE}v" logging parameter.

    *) Feature: the "set $name value" directive.

    *) Bugfix: gcc 4.0 compatibility.

    *) Feature: the --with-openssl-opt=OPTIONS autoconfiguration directive.


Changes with nginx 0.1.24                                        04 Mar 2005

    *) Feature: the ngx_http_ssi_filter_module supports the QUERY_STRING 
       and DOCUMENT_URI variables.

    *) Bugfix: the ngx_http_autoindex_module may some times return the 404 
       response for existent directory, if this directory was used in 
       "alias" directive.

    *) Bugfix: the ngx_http_ssi_filter_module ran incorrectly for large 
       responses.

    *) Bugfix: the lack of the "Referer" header line was always accounted 
       as valid referrer.


Changes with nginx 0.1.23                                        01 Mar 2005

    *) Feature: the ngx_http_ssi_filter_module and the ssi, 
       ssi_silent_errors, and ssi_min_file_chunk directives. The 'echo 
       var="HTTP_..." default=""' and 'echo var="REMOTE_ADDR"' commands are 
       supported.

    *) Feature: the %request_time log parameter.

    *) Feature: if the request has no the "Host" header line, then the 
       "proxy_preserve_host" directive set this header line to the first 
       server name of the "server_name" directive.

    *) Bugfix: nginx could not be built on platforms different from i386, 
       amd64, sparc É ppc; bug appeared in 0.1.22.

    *) Bugfix: the ngx_http_autoindex_module now shows the information not 
       about the symlink, but about file or directory it points to.

    *) Bugfix: the %apache_length parameter logged the negative length of 
       the response header if the no response was transferred to a client.


Changes with nginx 0.1.22                                        22 Feb 2005

    *) Bugfix: the ngx_http_stub_status_module showed incorrect handled 
       connections statistics if the proxying or FastCGI server were used.

    *) Bugfix: the installation paths were incorrectly quoted on Linux and 
       Solaris; bug appeared in 0.1.21.


Changes with nginx 0.1.21                                        22 Feb 2005

    *) Bugfix: the ngx_http_stub_status_module showed incorrect statistics 
       if "rtsig" method was used or if several worker process ran on SMP.

    *) Bugfix: nginx could not be built by the icc compiler on Linux or if 
       the zlib-1.2.x library was building from sources.

    *) Bugfix: nginx could not be built on NetBSD 2.0.


Changes with nginx 0.1.20                                        17 Feb 2005

    *) Feature: the new "script_filename" and "remote_port" parameters of 
       the fastcgi_params directive.

    *) Bugfix: the FastCGI stderr stream was handled incorrectly.


Changes with nginx 0.1.19                                        16 Feb 2005

    *) Bugfix: now, if request contains the zero, then the 404 error is 
       returned for the local requests.

    *) Bugfix: nginx could not be built on NetBSD 2.0.

    *) Bugfix: the timeout may occur while reading of the the client 
       request body via SSL connections.


Changes with nginx 0.1.18                                        09 Feb 2005

    *) Workaround: the default values of the devpoll_events and the 
       devpoll_changes directives changed from 512 to 32 to be compatible 
       with Solaris 10.

    *) Bugfix: the proxy_set_x_var and fastcgi_set_var directives were not 
       inherited.

    *) Bugfix: in the redirect rewrite directive the arguments were 
       concatenated with URI by the "&" rather than the "?".

    *) Bugfix: the lines without trailing ";" in the file being included by 
       the ngx_http_geo_module were silently ignored.

    *) Feature: the ngx_http_stub_status_module.

    *) Bugfix: the unknown log format in the access_log directive caused 
       the segmentation fault.

    *) Feature: the new "document_root" parameter of the fastcgi_params 
       directive.

    *) Feature: the fastcgi_redirect_errors directive.

    *) Feature: the new "break" modifier of the "rewrite" directive allows 
       to stop the rewrite/location cycle and sets the current 
       configuration to the request.


Changes with nginx 0.1.17                                        03 Feb 2005

    *) Change: the ngx_http_rewrite_module was rewritten from the scratch. 
       Now it is possible to redirect, to return the error codes, to check 
       the variables and referrers. The directives can be used inside 
       locations. The redirect directive was canceled.

    *) Feature: the ngx_http_geo_module.

    *) Feature: the proxy_set_x_var and fastcgi_set_var directives.

    *) Bugfix: the location configuration with "=" modifier may be used in 
       another location.

    *) Bugfix: the correct content type was set only for requests that use 
       small caps letters in extension.

    *) Bugfix: if the proxy_pass or fastcgi_pass directives were set in the 
       location, and access was denied, and the error was redirected to a 
       static page, then the segmentation fault occurred.

    *) Bugfix: if in a proxied "Location" header was a relative URL, then a 
       host name and a slash were added to them; bug appeared in 0.1.14.

    *) Bugfix: the system error message was not logged on Linux.


Changes with nginx 0.1.16                                        25 Jan 2005

    *) Bugfix: if the response were transferred by chunks, then on the HEAD 
       request the final chunk was issued.

    *) Bugfix: the "Connection: keep-alive" header were issued, even if the 
       keepalive_timeout directive forbade the keep-alive use.

    *) Bugfix: the errors in the ngx_http_fastcgi_module caused the 
       segmentation faults.

    *) Bugfix: the compressed response encrypted by SSL may not transferred 
       complete.

    *) Bugfix: the TCP-specific TCP_NODELAY, TCP_NOPSUH, and TCP_CORK 
       options, are not used for the unix domain sockets.

    *) Feature: the rewrite directive supports the arguments rewriting.

    *) Bugfix: the response code 400 was returned for the POST request with 
       the "Content-Length: 0" header; bug appeared in 0.1.14.


Changes with nginx 0.1.15                                        19 Jan 2005

    *) Bugfix: the error while the connecting to the FastCGI server caused 
       segmentation fault.

    *) Bugfix: the correct handling of the regular expression, that has 
       different number of the captures and substitutions.

    *) Feature: the location, that is passed to the FastCGI server, can be 
       regular expression.

    *) Bugfix: the FastCGI's parameter REQUEST_URI is now passed with the 
       arguments and in the original state.

    *) Bugfix: the ngx_http_rewrite_module module was required to be built 
       to use the regular expressions in locations.

    *) Bugfix: the directive "proxy_preserve_host  on" adds port 80 to the 
       "Host" headers, if upstream listen on port 80; bug appeared in 
       0.1.14.

    *) Bugfix: the same paths in autoconfiguration parameters 
       --http-client-body-temp-path=PATH and --http-proxy-temp-path=PATH, 
       or --http-client-body-temp-path=PATH and 
       --http-fastcgi-temp-path=PATH caused segmentation fault.


Changes with nginx 0.1.14                                        18 Jan 2005

    *) Feature: the autoconfiguration directives: 
       --http-client-body-temp-path=PATH, --http-proxy-temp-path=PATH, and 
       --http-fastcgi-temp-path=PATH

    *) Change: the directory name for the temporary files with the client 
       request body is specified by directive client_body_temp_path, by 
       default it is <prefix>/client_body_temp.

    *) Feature: the ngx_http_fastcgi_module and the directives: 
       fastcgi_pass, fastcgi_root, fastcgi_index, fastcgi_params, 
       fastcgi_connect_timeout, fastcgi_send_timeout, fastcgi_read_timeout, 
       fastcgi_send_lowat, fastcgi_header_buffer_size, fastcgi_buffers, 
       fastcgi_busy_buffers_size, fastcgi_temp_path, 
       fastcgi_max_temp_file_size, fastcgi_temp_file_write_size, 
       fastcgi_next_upstream, and fastcgi_x_powered_by.

    *) Bugfix: the "[alert] zero size buf" error; bug appeared in 0.1.3.

    *) Change: the URI must be specified after the host name in the 
       proxy_pass directive.

    *) Change: the %3F symbol in the URI was considered as the argument 
       string start.

    *) Feature: the unix domain sockets support in the 
       ngx_http_proxy_module.

    *) Feature: the ssl_engine and ssl_ciphers directives.
       Thanks to Sergey Skvortsov for SSL-accelerator.


Changes with nginx 0.1.13                                        21 Dec 2004

    *) Feature: the server_names_hash and server_names_hash_threshold 
       directives.

    *) Bugfix: the *.domain.tld names in the "server_name" directive did 
       not work.

    *) Bugfix: the %request_length log parameter logged the incorrect 
       length.


Changes with nginx 0.1.12                                        06 Dec 2004

    *) Feature: the %request_length log parameter.

    *) Bugfix: when using the /dev/poll, select and poll on the platforms, 
       where these methods may do the false reports, there may be the long 
       delay when the request was passed via the keep-alive connection. It 
       may be at least on Solaris when using the /dev/poll.

    *) Bugfix: the send_lowat directive is ignored on Linux because Linux 
       does not support the SO_SNDLOWAT option.


Changes with nginx 0.1.11                                        02 Dec 2004

    *) Feature: the worker_priority directive.

    *) Change: both tcp_nopush and tcp_nodelay directives affect the 
       transferred response.

    *) Bugfix: nginx did not call initgroups().
       Thanks to Andrew Sitnikov and Andrei Nigmatulin.

    *) Change: now the ngx_http_autoindex_module shows the file size in the 
       bytes.

    *) Bugfix: the ngx_http_autoindex_module returned the 500 error if the 
       broken symlink was in a directory.

    *) Bugfix: the files bigger than 4G could not be transferred using 
       sendfile.

    *) Bugfix: if the backend was resolved to several backends and there 
       was an error while the response waiting then process may got caught 
       in an endless loop.

    *) Bugfix: the worker process may exit with the "unknown cycle" message 
       when the /dev/poll method was used.

    *) Bugfix: "close() channel failed" errors.

    *) Bugfix: the autodetection of the "nobody" and "nogroup" groups.

    *) Bugfix: the send_lowat directive did not work on Linux.

    *) Bugfix: the segmentation fault occurred if there was no events 
       section in configuration.

    *) Bugfix: nginx could not be built on OpenBSD.

    *) Bugfix: the double slashes in "://" in the URI were converted to 
       ":/".


Changes with nginx 0.1.10                                        26 Nov 2004

    *) Bugfix: if the request without arguments contains "//", "/./", 
       "/../" or "%XX" then the lost character in the request line was 
       lost; bug appeared in 0.1.9.

    *) Bugfix: the fix in 0.1.9 for the files bigger than 2G on Linux did 
       not work.


Changes with nginx 0.1.9                                         25 Nov 2004

    *) Bugfix: the proxied request was sent without arguments if the 
       request contains "//", "/./", "/../" or "%XX".

    *) Bugfix: the large compressed responses may be transferred not 
       completely.

    *) Bugfix: the files bigger than 2G was not transferred on Linux that 
       does not support sendfile64().

    *) Bugfix: while the build configuration on Linux the 
       --with-poll_module parameter was required; bug appeared in 0.1.8.


Changes with nginx 0.1.8                                         20 Nov 2004

    *) Bugfix: in the ngx_http_autoindex_module if the long file names were 
       in the listing.

    *) Feature: the "^~" modifier in the location directive.

    *) Feature: the proxy_max_temp_file_size directive.


Changes with nginx 0.1.7                                         12 Nov 2004

    *) Bugfix: on FreeBSD the segmentation fault may occur if the size of 
       the transferred file was changed; bug appeared in 0.1.5.


Changes with nginx 0.1.6                                         11 Nov 2004

    *) Bugfix: some location directive combinations with the regular 
       expressions caused the wrong configuration choose.


Changes with nginx 0.1.5                                         11 Nov 2004

    *) Bugfix: on Solaris and Linux there may be too many "recvmsg() 
       returned not enough data" alerts.

    *) Bugfix: there were the "writev() failed (22: Invalid argument)" 
       errors on Solaris in proxy mode without sendfile. On other platforms 
       that do not support sendfile at all the process got caught in an 
       endless loop.

    *) Bugfix: segmentation fault on Solaris in proxy mode and using 
       sendfile.

    *) Bugfix: segmentation fault on Solaris.

    *) Bugfix: on-line upgrade did not work on Linux.

    *) Bugfix: the ngx_http_autoindex_module module did not escape the 
       spaces, the quotes, and the percent signs in the directory listing.

    *) Change: the decrease of the copy operations.

    *) Feature: the userid_p3p directive.


Changes with nginx 0.1.4                                         26 Oct 2004

    *) Bugfix: in the ngx_http_autoindex_module.


Changes with nginx 0.1.3                                         25 Oct 2004

    *) Feature: the ngx_http_autoindex_module and the autoindex directive.

    *) Feature: the proxy_set_x_url directive.

    *) Bugfix: proxy module may get caught in an endless loop when sendfile 
       is not used.


Changes with nginx 0.1.2                                         21 Oct 2004

    *) Feature: the --user=USER, --group=GROUP, and --with-ld-opt=OPTIONS 
       options in configure.

    *) Feature: the server_name directive supports *.domain.tld.

    *) Bugfix: the portability improvements.

    *) Bugfix: if configuration file was set in command line, the 
       reconfiguration was impossible; bug appeared in 0.1.1.

    *) Bugfix: proxy module may get caught in an endless loop when sendfile 
       is not used.

    *) Bugfix: with sendfile the response was not recoded according to the 
       charset module directives; bug appeared in 0.1.1.

    *) Bugfix: very seldom bug in the kqueue processing.

    *) Bugfix: the gzip module compressed the proxied responses that was 
       already compressed.


Changes with nginx 0.1.1                                         11 Oct 2004

    *) Feature: the gzip_types directive.

    *) Feature: the tcp_nodelay directive.

    *) Feature: the send_lowat directive is working not only on OSes that 
       support kqueue NOTE_LOWAT, but also on OSes that support SO_SNDLOWAT.

    *) Feature: the setproctitle() emulation for Linux and Solaris.

    *) Bugfix: the "Location" header rewrite bug fixed while the proxying.

    *) Bugfix: the ngx_http_chunked_module module may get caught in an 
       endless loop.

    *) Bugfix: the /dev/poll module bugs fixed.

    *) Bugfix: the responses were corrupted when the temporary files were 
       used while the proxying.

    *) Bugfix: the unescaped requests were passed to the backend.

    *) Bugfix: while the build configuration on Linux 2.4 the 
       --with-poll_module parameter was required.


Changes with nginx 0.1.0                                         04 Oct 2004

    *) The first public version.

